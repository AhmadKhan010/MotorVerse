<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="800.0" prefWidth="1200.0" style="-fx-background-color: #F0F0F0;" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/23.0.1" fx:controller="controllers.AdminDashboard">
    <children>
        <!-- Header Section -->
        <HBox layoutX="0.0" layoutY="0.0" prefHeight="100.0" prefWidth="1200.0" style="-fx-background-color: #FFB347;" AnchorPane.bottomAnchor="700.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <children>
                <Label layoutX="20.0" layoutY="30.0" style="-fx-font-size: 28; -fx-font-family: 'Arial Bold';" text="Admin Dashboard" textFill="#333333" />
            </children>
        </HBox>

        <!-- Navigation Panel -->
        <VBox layoutX="0.0" layoutY="100.0" prefHeight="700.0" prefWidth="200.0" style="-fx-background-color: #D3D3D3;">
            <children>
                <Button onAction="#showUserManagement" prefHeight="50.0" prefWidth="200.0" text="User Management" />
                <Button onAction="#showListingManagement" prefHeight="50.0" prefWidth="200.0" text="Listing Management" />
                <Button onAction="#showTransactionManagement" prefHeight="50.0" prefWidth="200.0" text="Transaction Management" />
                <Button onAction="#showReports" prefHeight="50.0" prefWidth="200.0" text="Generate Reports" />
                <Button onAction="#logout" prefHeight="50.0" prefWidth="200.0" style="-fx-background-color: #FF6347; -fx-text-fill: white;" text="Logout" />
            </children>
        </VBox>

        <!-- Transaction Management Section -->
        <AnchorPane fx:id="transactionManagementPane" layoutX="200.0" layoutY="100.0" prefHeight="700.0" prefWidth="1000.0" visible="false" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="200.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="100.0">
            <children>
                <!-- Controls -->
                <Label layoutX="20.0" layoutY="20.0" text="Transaction Type:" />
                <ComboBox fx:id="transactionTypeComboBox" layoutX="150.0" layoutY="15.0" prefWidth="200.0" />
                <Button layoutX="370.0" layoutY="15.0" onAction="#loadTransactions" text="Search" />

                <!-- TableView -->
                <TableView fx:id="transactionTableView" layoutX="20.0" layoutY="60.0" prefHeight="500.0" prefWidth="950.0" AnchorPane.bottomAnchor="60.0" AnchorPane.leftAnchor="20.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="60.0">
                    <columns>
                        <TableColumn fx:id="transactionIdColumn" prefWidth="120.0" text="Transaction ID" />
                        <TableColumn fx:id="userColumn" prefWidth="150.0" text="User" />
                        <TableColumn fx:id="vehicleColumn" prefWidth="150.0" text="Vehicle" />
                        <TableColumn fx:id="dateColumn" prefWidth="150.0" text="Date" />
                        <TableColumn fx:id="amountColumn" prefWidth="120.0" text="Amount" />
                    </columns>
                </TableView>

                <!-- Delete Button -->
                <Button layoutX="66.0" layoutY="652.0" onAction="#deleteTransaction" text="Delete Transaction" />
            </children>
        </AnchorPane>

        <!-- User Management Section -->
        <AnchorPane fx:id="userManagementPane" layoutX="200.0" layoutY="100.0" prefHeight="700.0" prefWidth="1000.0" visible="false">
            <children>
                <!-- Search Bar -->
                <Label layoutX="20.0" layoutY="20.0" text="Search User:" />
                <TextField fx:id="searchField" layoutX="100.0" layoutY="15.0" prefWidth="200.0" />
                <Button layoutX="310.0" layoutY="15.0" onAction="#searchUser" text="Search" />
                <Button layoutX="380.0" layoutY="15.0" onAction="#resetTable" text="Reset" />

                <!-- TableView -->
                <TableView fx:id="userTable" layoutX="20.0" layoutY="60.0" prefHeight="590.0" prefWidth="991.0" AnchorPane.bottomAnchor="49.60000000000002" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="60.0">
                    <columns>
                        <TableColumn fx:id="colUserId" text="User ID" />
                        <TableColumn fx:id="colName" text="Name" />
                        <TableColumn fx:id="colEmail" text="Email" />
                        <TableColumn fx:id="colPhone" text="Phone Number" />
                        <TableColumn fx:id="colRole" text="Role" />
                    </columns>
                </TableView>

                <Button layoutX="77.0" layoutY="663.0" onAction="#editUser" text="Edit User" />
                <Button layoutX="182.0" layoutY="663.0" onAction="#deleteUser" text="Delete User" />
            </children>
        </AnchorPane>

        <!-- Listing Management Section -->
        <AnchorPane fx:id="listingManagementPane" layoutX="200.0" layoutY="100.0" prefHeight="700.0" prefWidth="1000.0" visible="false">
            <children>
                <!-- Search Bar -->
                <Label layoutX="20.0" layoutY="20.0" text="Search Listing:" />
                <TextField fx:id="listingSearchField" layoutX="150.0" layoutY="15.0" prefWidth="200.0" />
                <Button layoutX="370.0" layoutY="15.0" onAction="#searchListing" text="Search" />
                <Button layoutX="450.0" layoutY="15.0" onAction="#resetListingTable" text="Reset" />

                <!-- TableView -->
                <TableView fx:id="listingTable" layoutY="60.0" prefHeight="600.0" prefWidth="1000.0" AnchorPane.bottomAnchor="45.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="60.0">
                    <columns>
                        <TableColumn fx:id="colListingId" text="Listing ID" />
                        <TableColumn fx:id="colSellerId" text="Seller ID" />
                        <TableColumn fx:id="colVehicleId" text="Vehicle ID" />
                        <TableColumn fx:id="colPrice" text="Price" />
                        <TableColumn fx:id="colRentalPrice" text="Rental Price" />
                        <TableColumn fx:id="colDescription" text="Description" />
                        <TableColumn fx:id="colListingType" text="Listing Type" />
                    </columns>
                </TableView>

                <Button layoutX="78.0" layoutY="660.0" onAction="#deleteListing" text="Delete Listing" />
            </children>
        </AnchorPane>

        <!-- Reports Section -->
   <AnchorPane fx:id="reportsPane" layoutX="200.0" layoutY="100.0" prefHeight="700.0" prefWidth="1000.0" visible="false">
    <children>
        <Label layoutX="20.0" layoutY="20.0" text="Select Report Type:" />
        <ComboBox fx:id="reportTypeComboBox" layoutX="150.0" layoutY="15.0" prefWidth="200.0" />
        <Button layoutX="370.0" layoutY="15.0" onAction="#generateReport" text="Generate" />
        <TableView fx:id="reportTableView" layoutY="61.0" prefHeight="625.0" prefWidth="1012.0" />
    </children>
</AnchorPane>

    </children>
</AnchorPane>
